<th:block th:replace="~{layouts/base :: html(
    title='Customer Order Details - ' + ${order.id},
    headResources=~{::headResources},
    content=~{::content}
)}">

    <th:block th:fragment="headResources">
        <link rel="stylesheet" th:href="@{/css/admin.css}">
    </th:block>

    <main th:fragment="content" class="profile-wrapper">
        <div class="profile">
            <a class="back-link" th:href="@{/admin/orders/list}">Back to all orders</a>
            <h1 style="text-align: center;">Customer Order Details</h1>

            <div th:if="${orderSuccess}" class="success-message" th:text="${orderSuccess}"></div>

            <section>
                <h3>Summary</h3>

                <div class="form-group">
                    <label>Order ID</label>
                    <div style="font-weight: 600;" th:text="${order.id}">-</div>
                </div>

                <div class="form-group">
                    <label>Order Date</label>
                    <div style="font-weight: 600;" th:text="${order.orderDate}">-</div>
                </div>

                <div class="form-group">
                    <label>Customer</label>
                    <div style="font-weight: 600;" th:text="${order.customer != null ? order.customer.email : '-'}">-
                    </div>
                </div>

                <div class="form-group">
                    <label>Total</label>
                    <div style="font-weight: 600;" th:text="${#numbers.formatCurrency(order.totalAmount/100.0)}">$0.00
                    </div>
                </div>

                <div class="form-group">
                    <label>Update Status</label>
                    <form th:action="@{/admin/orders/{id}/status(id=${order.id})}" method="post"
                        style="display:flex; gap: 0.75rem; align-items: center; flex-wrap: wrap;">
                        <select name="status" class="form-input" style="max-width: 16rem;">
                            <option th:each="s : ${statuses}" th:value="${s}" th:text="${s}"
                                th:selected="${s == order.orderStatus}">
                                PENDING
                            </option>
                        </select>

                        <button type="submit" class="hero-button" style="padding: 0.5rem 1rem;">Save</button>
                    </form>
                </div>
            </section>

            <th:block th:replace="~{pages/orders/detail :: orderItems}"></th:block>
            <th:block th:replace="~{pages/orders/detail :: orderShipping}"></th:block>
            <th:block th:replace="~{pages/orders/detail :: orderBilling}"></th:block>
        </div>
    </main>

</th:block>